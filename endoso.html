<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Endoso Devolución - MAPFRE</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #ffffff;
        }

        * {
            font-family: 'DM Sans', sans-serif;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* SECCIÓN 0: HEADER FIJO */
        .sticky-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #ffffff;
            border-bottom: 1px solid #e0e0e0;
            z-index: 1000;
            padding: 15px 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #333;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-menu a {
            color: #333;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: color 0.3s;
            font-family: 'DM Sans', sans-serif;
        }

        .nav-menu a:hover {
            color: #666;
        }

        .nav-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 4px;
        }

        .nav-toggle span {
            width: 25px;
            height: 3px;
            background: #333;
            transition: all 0.3s;
        }

        .cta-button {
            background: #333;
            color: #ffffff;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            font-size: 16px;
            transition: background 0.3s;
        }

        .cta-button:hover {
            background: #555;
        }

        /* SECCIÓN 1: HERO SECTION */
        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('https://library.elementor.com/restaurant-wireframe-1/wp-content/uploads/sites/233/2022/08/why-choose-us.jpg');
            background-size: cover;
            background-position: center;
            color: #ffffff;
            padding: 120px 0 80px;
            margin-top: 70px;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero-content h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
            color: #ffffff;
        }

        .hero-content h2 {
            font-size: 24px;
            font-weight: 400;
            margin-bottom: 40px;
            color: #ffffff;
            opacity: 0.9;
        }

        .hero-cta {
            background: #ffffff;
            color: #333;
            padding: 18px 40px;
            border: none;
            border-radius: 5px;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            margin-bottom: 40px;
            transition: all 0.3s;
        }

        .hero-cta:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
        }

        /* SECCIÓN 2: COMPARATIVA */
        .comparison-section {
            padding: 80px 0;
            background: #f8f8f8;
            text-align: center;
        }

        .comparison-section h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 50px;
            color: #333;
        }

        .comparison-table {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            max-width: 900px;
            margin: 0 auto;
        }

        .comparison-column {
            background: #ffffff;
            padding: 40px 30px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
        }

        .comparison-column.mapfre {
            border-color: #333;
            position: relative;
        }

        .comparison-column.mapfre::before {
            content: "RECOMENDADO";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: #ffffff;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 700;
        }

        .comparison-column h3 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
            color: #333;
        }

        .comparison-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 20px;
            text-align: left;
        }

        .comparison-icon {
            font-size: 20px;
            margin-top: 2px;
        }

        .check {
            color: #28a745;
        }

        .cross {
            color: #dc3545;
        }

        /* SECCIÓN 3: CÓMO FUNCIONA */
        .process-section {
            padding: 80px 0;
            text-align: center;
        }

        .process-section h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 50px;
            color: #333;
        }

        .process-timeline {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .process-step {
            position: relative;
            padding: 30px 20px;
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .process-number {
            width: 60px;
            height: 60px;
            background: #333;
            color: #ffffff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            margin: 0 auto 20px;
        }

        .process-step h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #333;
        }

        .process-step p {
            font-size: 16px;
            color: #666;
            line-height: 1.6;
        }

        /* SECCIÓN 4: PROTECCIÓN REFORZADA */
        .protection-section {
            padding: 80px 0;
            background: #333;
            color: #ffffff;
            text-align: center;
        }

        .protection-section h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 30px;
            color: #ffffff;
        }

        .protection-content {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 40px;
        }

        .protection-icon {
            font-size: 80px;
            color: #ffffff;
        }

        .protection-text {
            text-align: left;
            flex: 1;
        }

        .protection-text p {
            font-size: 18px;
            color: #ffffff;
            line-height: 1.8;
            opacity: 0.9;
        }

        /* SECCIÓN 5: BANCOS ALIADOS */
        .banks-section {
            padding: 80px 0;
            background: #f8f8f8;
            text-align: center;
        }

        .banks-section h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 50px;
            color: #333;
        }

        .banks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 30px;
            max-width: 800px;
            margin: 0 auto;
            align-items: center;
        }

        .bank-logo {
            background: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            font-weight: 700;
            color: #333;
            font-size: 18px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* SECCIÓN 6: FACTOR HUMANO */
        .human-section {
            padding: 80px 0;
        }

        .human-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 60px;
            align-items: center;
        }

        .advisor-image {
            width: 300px;
            height: 400px;
            background: url('https://library.elementor.com/restaurant-wireframe-1/wp-content/uploads/sites/233/2022/08/why-choose-us.jpg');
            background-size: cover;
            background-position: center;
            border-radius: 10px;
        }

        .human-text h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 30px;
            color: #333;
        }

        .human-text p {
            font-size: 18px;
            color: #666;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        /* SECCIÓN 7: CENTRO DE INFORMACIÓN */
        .info-center-section {
            padding: 80px 0;
            background: #f8f8f8;
        }

        .info-center-section h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 50px;
            text-align: center;
            color: #333;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .info-card {
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            transition: box-shadow 0.3s;
        }

        .info-card:hover {
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .info-card-icon {
            width: 60px;
            height: 60px;
            background: #f0f0f0;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #333;
        }

        .info-card h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #333;
        }

        .info-card p {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
        }

        .download-button {
            background: #f0f0f0;
            color: #333;
            padding: 10px 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
            display: inline-block;
            transition: background 0.3s;
        }

        .download-button:hover {
            background: #e0e0e0;
        }

        /* SECCIÓN 8: TESTIMONIOS */
        .testimonials-section {
            padding: 80px 0;
            text-align: center;
        }

        .testimonials-section h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 50px;
            color: #333;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 40px;
            max-width: 900px;
            margin: 0 auto;
        }

        .testimonial-card {
            background: #ffffff;
            padding: 30px;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .testimonial-photo {
            width: 60px;
            height: 60px;
            background: url('https://library.elementor.com/restaurant-wireframe-1/wp-content/uploads/sites/233/2022/08/why-choose-us.jpg');
            background-size: cover;
            background-position: center;
            border-radius: 50%;
        }

        .testimonial-name {
            font-weight: 700;
            color: #333;
        }

        .testimonial-text {
            font-style: italic;
            color: #666;
            text-align: left;
            line-height: 1.6;
        }

        /* SECCIÓN 9: FAQ */
        .faq-section {
            padding: 80px 0;
            background: #f8f8f8;
        }

        .faq-section h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 50px;
            text-align: center;
            color: #333;
        }

        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 10px;
        }

        .faq-question {
            background: none;
            border: none;
            width: 100%;
            padding: 20px 0;
            text-align: left;
            font-size: 18px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #333;
        }

        .faq-answer {
            padding: 0 0 20px 0;
            color: #666;
            display: none;
            line-height: 1.6;
        }

        .faq-answer.active {
            display: block;
        }

        .faq-icon {
            font-size: 20px;
            transition: transform 0.3s;
        }

        .faq-question.active .faq-icon {
            transform: rotate(45deg);
        }

        /* SECCIÓN 10: CTA FINAL */
        .final-cta-section {
            padding: 80px 0;
            background: #333;
            color: #ffffff;
            text-align: center;
        }

        .cta-content {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .cta-content h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #ffffff;
        }

        .cta-content p {
            font-size: 18px;
            margin-bottom: 40px;
            color: #ccc;
            line-height: 1.6;
        }

        .final-cta-button {
            background: #ffffff;
            color: #333;
            padding: 18px 40px;
            border: none;
            border-radius: 5px;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            margin-bottom: 20px;
            width: auto;
            font-family: 'DM Sans', sans-serif;
            transition: all 0.3s;
        }

        .final-cta-button:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
        }

        .privacy-text {
            font-size: 14px;
            color: #ccc;
        }

        /* MODAL DEL FORMULARIO */
        .form-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            overflow-y: auto;
        }

        .form-modal-content {
            background-color: #ffffff;
            margin: 5% auto;
            padding: 40px;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            position: relative;
            color: #333;
        }

        .form-modal-close {
            position: absolute;
            right: 20px;
            top: 20px;
            font-size: 24px;
            font-weight: bold;
            color: #999;
            cursor: pointer;
            background: none;
            border: none;
        }

        .form-modal-close:hover {
            color: #333;
        }

        .form-modal h3 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #333;
        }

        .form-modal p {
            font-size: 16px;
            color: #666;
            margin-bottom: 30px;
        }

        /* Estilos del formulario en modal */
        .form-modal .contact-form {
            max-width: 100%;
            margin: 0;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-modal .form-group input,
        .form-modal .form-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 16px;
            font-family: 'DM Sans', sans-serif;
            background: #ffffff;
            color: #333;
        }

        .form-modal .form-group input::placeholder {
            color: #999;
        }

        .form-modal .form-group input:focus,
        .form-modal .form-group select:focus {
            outline: none;
            border-color: #333;
        }

        .form-modal .form-group input:disabled {
            background: #f8f8f8;
            color: #999;
            cursor: not-allowed;
        }

        .form-modal .form-group select option {
            background: #ffffff;
            color: #333;
        }

        /* Grupo de documento con loader */
        .documento-group {
            position: relative;
        }

        .verification-loader {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
        }

        .loader-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(0,0,0,0.3);
            border-top: 2px solid #333;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .verification-status {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            font-size: 18px;
        }

        .verification-status.success {
            color: #28a745;
        }

        .verification-status.info {
            color: #17a2b8;
        }

        /* Campos adicionales */
        .campos-adicionales {
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s ease-in-out;
            margin-bottom: 0;
        }

        .campos-adicionales.show {
            opacity: 1;
            max-height: 400px;
            margin-bottom: 20px;
        }

        .campos-adicionales-mensaje {
            font-size: 14px;
            color: #17a2b8;
            margin-bottom: 20px;
            padding: 10px 0;
            border-left: 3px solid #17a2b8;
            padding-left: 15px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease-in-out;
        }

        .campos-adicionales.show .campos-adicionales-mensaje {
            opacity: 1;
            transform: translateY(0);
        }

        /* Checkboxes */
        .checkbox-group {
            margin-bottom: 30px;
        }

        .checkbox-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            cursor: pointer;
            font-size: 14px;
            color: #333;
            line-height: 1.4;
        }

        .checkbox-item input[type="checkbox"] {
            display: none;
        }

        .checkmark {
            min-width: 20px;
            height: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 3px;
            margin-right: 12px;
            margin-top: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .checkbox-item input[type="checkbox"]:checked + .checkmark {
            background: #333;
            border-color: #333;
        }

        .checkbox-item input[type="checkbox"]:checked + .checkmark::after {
            content: "✓";
            color: #ffffff;
            font-weight: 700;
            font-size: 12px;
        }

        .checkbox-link {
            color: #333;
            text-decoration: underline;
        }

        .checkbox-link:hover {
            color: #666;
        }

        /* FOOTER */
        .footer {
            background: #f8f8f8;
            color: #666;
            padding: 40px 0;
            border-top: 1px solid #e0e0e0;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .footer-left {
            text-align: left;
        }

        .footer-left p {
            margin-bottom: 8px;
            font-size: 14px;
            color: #666;
            font-family: 'DM Sans', sans-serif;
        }

        .footer-copyright {
            font-weight: 500;
            color: #333 !important;
        }

        .footer-right {
            text-align: right;
        }

        .footer-credit {
            font-size: 14px;
            color: #666;
            margin: 0;
            font-family: 'DM Sans', sans-serif;
        }

        .terms-link {
            color: #666;
            text-decoration: underline;
            font-family: 'DM Sans', sans-serif;
        }

        .terms-link:hover {
            color: #333;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 32px;
            }

            .hero-content h2 {
                font-size: 18px;
            }

            .comparison-table {
                grid-template-columns: 1fr;
            }

            .process-timeline {
                grid-template-columns: 1fr;
            }

            .protection-content {
                flex-direction: column;
                text-align: center;
            }

            .protection-text {
                text-align: center;
            }

            .human-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .banks-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .testimonials-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .form-modal-content {
                margin: 10% auto;
                padding: 30px 20px;
                width: 95%;
            }

            .footer-content {
                flex-direction: column;
                gap: 20px;
            }

            .footer-right {
                text-align: left;
            }

            /* Navegación mobile */
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: #ffffff;
                flex-direction: column;
                padding: 20px;
                gap: 15px;
                box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                border-top: 1px solid #e0e0e0;
            }

            .nav-menu.active {
                display: flex;
            }

            .nav-toggle {
                display: flex;
            }

            .header-content {
                position: relative;
            }
        }
    </style>
</head>
<body>
    <!-- SECCIÓN 0: HEADER FIJO -->
    <header class="sticky-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">MAPFRE</div>
                
                <nav class="nav-menu" id="navMenu">
                    <a href="#inicio">Inicio</a>
                    <a href="#comparativa">Comparativa</a>
                    <a href="#proceso">Proceso</a>
                    <a href="#proteccion">Protección</a>
                    <a href="#bancos">Bancos</a>
                    <a href="#recursos">Recursos</a>
                    <a href="#faq">FAQ</a>
                </nav>

                <div class="nav-toggle" id="navToggle" onclick="toggleNav()">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>

                <button onclick="openFormModal()" class="cta-button">Cotiza tu Endoso Inteligente</button>
            </div>
        </div>
    </header>

    <!-- SECCIÓN 1: HERO SECTION -->
    <section id="inicio" class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1>Tu crédito hipotecario no tiene por qué ser un gasto perdido.</h1>
                <h2>Convierte el seguro de desgravamen que te exige el banco en un ahorro garantizado. Cumple el requisito y recupera hasta el 200% de lo que pagaste.</h2>
                <button class="hero-cta" onclick="openFormModal()">Reemplaza tu Desgravamen Ahora</button>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 2: COMPARATIVA -->
    <section id="comparativa" class="comparison-section">
        <div class="container">
            <h2>La diferencia entre un gasto y una inversión.</h2>
            <div class="comparison-table">
                <div class="comparison-column">
                    <h3>Seguro Desgravamen Tradicional</h3>
                    <div class="comparison-item">
                        <span class="comparison-icon cross">❌</span>
                        <span>Tu dinero solo cubre la deuda y no regresa a ti.</span>
                    </div>
                    <div class="comparison-item">
                        <span class="comparison-icon cross">❌</span>
                        <span>Al final del crédito, el monto pagado se pierde.</span>
                    </div>
                    <div class="comparison-item">
                        <span class="comparison-icon cross">❌</span>
                        <span>Protección básica y limitada.</span>
                    </div>
                </div>
                <div class="comparison-column mapfre">
                    <h3>MAPFRE Endoso Devolución</h3>
                    <div class="comparison-item">
                        <span class="comparison-icon check">✅</span>
                        <span>Cubre la deuda Y ADEMÁS te devuelve lo aportado.</span>
                    </div>
                    <div class="comparison-item">
                        <span class="comparison-icon check">✅</span>
                        <span>Al final del crédito, recuperas tu dinero con un retorno garantizado.</span>
                    </div>
                    <div class="comparison-item">
                        <span class="comparison-icon check">✅</span>
                        <span>Incluye protección reforzada por invalidez.</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 3: CÓMO FUNCIONA -->
    <section id="proceso" class="process-section">
        <div class="container">
            <h2>Es más simple de lo que crees.</h2>
            <div class="process-timeline">
                <div class="process-step">
                    <div class="process-number">1</div>
                    <h3>SOLICITA TU CRÉDITO</h3>
                    <p>Cuando el banco te pida un seguro de desgravamen, tienes el derecho de elegir el tuyo.</p>
                </div>
                <div class="process-step">
                    <div class="process-number">2</div>
                    <h3>ELIGE MAPFRE</h3>
                    <p>Nosotros nos encargamos de todo. Presenta nuestra póliza de Endoso Devolución a tu entidad financiera.</p>
                </div>
                <div class="process-step">
                    <div class="process-number">3</div>
                    <h3>AHORRA Y RECUPERA</h3>
                    <p>Paga tus cuotas con la tranquilidad de saber que ese dinero volverá a ti al finalizar tu crédito.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 4: PROTECCIÓN REFORZADA -->
    <section id="proteccion" class="protection-section">
        <div class="container">
            <h2>Tranquilidad total para ti y tu familia.</h2>
            <div class="protection-content">
                <div class="protection-icon">🛡️</div>
                <div class="protection-text">
                    <p>A diferencia de otros seguros, nuestro Endoso Devolución incluye de manera obligatoria la cobertura por Invalidez Total y Permanente. Tu capacidad para generar ingresos, el activo más importante de tu familia, también queda protegida.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 5: BANCOS ALIADOS -->
    <section id="bancos" class="banks-section">
        <div class="container">
            <h2>Aceptado por las principales entidades financieras del Perú.</h2>
            <div class="banks-grid">
                <div class="bank-logo">BCP</div>
                <div class="bank-logo">BBVA</div>
                <div class="bank-logo">Interbank</div>
                <div class="bank-logo">Scotiabank</div>
                <div class="bank-logo">Banco de la Nación</div>
                <div class="bank-logo">Mi Banco</div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 6: FACTOR HUMANO -->
    <section id="asesor" class="human-section">
        <div class="container">
            <div class="human-content">
                <div class="advisor-image"></div>
                <div class="human-text">
                    <h2>Te acompañamos en cada paso.</h2>
                    <p>Sabemos que el proceso de un crédito puede ser complejo. Un asesor experto de MAPFRE te guiará para que el endoso con tu banco sea rápido y sencillo, resolviendo todas tus dudas.</p>
                    <button class="cta-button" onclick="openFormModal()">Contactar a un Asesor</button>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 7: CENTRO DE INFORMACIÓN -->
    <section id="recursos" class="info-center-section">
        <div class="container">
            <h2>Todo lo que necesitas para tu tranquilidad.</h2>
            <div class="info-grid">
                <div class="info-card">
                    <div class="info-card-icon">📋</div>
                    <h3>Guía Rápida</h3>
                    <p>Todo sobre el Endoso Devolución explicado de forma simple y directa.</p>
                    <button class="download-button" onclick="downloadPDF('guia-endoso')">Descargar PDF</button>
                </div>
                <div class="info-card">
                    <div class="info-card-icon">⚖️</div>
                    <h3>Comparativa Desgravamen vs. Endoso</h3>
                    <p>Análisis detallado de las diferencias y beneficios de cada opción.</p>
                    <button class="download-button" onclick="downloadPDF('comparativa')">Descargar PDF</button>
                </div>
                <div class="info-card">
                    <div class="info-card-icon">🏦</div>
                    <h3>Proceso con los Bancos</h3>
                    <p>Guía paso a paso para presentar tu endoso a la entidad financiera.</p>
                    <button class="download-button" onclick="downloadPDF('proceso-bancos')">Descargar PDF</button>
                </div>
                <div class="info-card">
                    <div class="info-card-icon">📊</div>
                    <h3>Condiciones y Cobertura de Invalidez</h3>
                    <p>Detalle completo de las condiciones y coberturas incluidas.</p>
                    <button class="download-button" onclick="downloadPDF('condiciones-invalidez')">Descargar PDF</button>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 8: TESTIMONIOS -->
    <section id="testimonios" class="testimonials-section">
        <div class="container">
            <h2>Ellos tomaron la decisión inteligente para su crédito.</h2>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="testimonial-photo"></div>
                        <div>
                            <div class="testimonial-name">Carlos y Ana</div>
                            <div style="font-size: 14px; color: #999;">Nuevos Propietarios</div>
                        </div>
                    </div>
                    <div class="testimonial-text">
                        "El banco nos exigía un desgravamen y sentíamos que era dinero perdido. Encontrar el Endoso de MAPFRE fue un alivio. Cumplimos el requisito y ahora sabemos que ese dinero volverá a nosotros. ¡Fue la mejor decisión!"
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <div class="testimonial-photo"></div>
                        <div>
                            <div class="testimonial-name">Lucía G.</div>
                            <div style="font-size: 14px; color: #999;">Invirtiendo en mi futuro</div>
                        </div>
                    </div>
                    <div class="testimonial-text">
                        "Saqué un crédito para mi consultorio y la opción del banco era muy básica. El asesor de MAPFRE me explicó cómo el Endoso no solo me cubría mejor, sino que además funcionaba como un ahorro forzoso. 100% recomendado."
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 9: FAQ -->
    <section id="faq" class="faq-section">
        <div class="container">
            <h2>Resolvemos tus dudas sobre el Endoso.</h2>
            <div class="faq-container">
                <div class="faq-item">
                    <button class="faq-question" onclick="toggleFaq(this)">
                        ¿Puedo usar este seguro para cualquier tipo de crédito (personal, vehicular, hipotecario)?
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        Sí, el Endoso Devolución de MAPFRE puede utilizarse para cualquier tipo de crédito que requiera un seguro de desgravamen.
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" onclick="toggleFaq(this)">
                        ¿Qué pasa si ya tengo un seguro de desgravamen con el banco? ¿Puedo cambiarme?
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        Sí, puedes cambiar tu seguro de desgravamen en cualquier momento. Nuestro asesor te ayudará con todos los trámites necesarios.
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" onclick="toggleFaq(this)">
                        ¿MAPFRE se encarga de la coordinación con mi banco?
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        Absolutamente. Nuestro equipo se encarga de toda la coordinación y trámites con tu entidad financiera para que el proceso sea transparente y sin complicaciones.
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" onclick="toggleFaq(this)">
                        ¿La cobertura por invalidez tiene un costo adicional?
                        <span class="faq-icon">+</span>
                    </button>
                    <div class="faq-answer">
                        No, la cobertura por Invalidez Total y Permanente está incluida sin costo adicional en nuestro Endoso Devolución.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 10: CTA FINAL -->
    <section id="cta-final" class="final-cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>No dejes que tu crédito te cueste más. Toma el control.</h2>
                <p>Un asesor de MAPFRE está listo para darte una cotización sin compromiso y mostrarte cuánto puedes recuperar.</p>
                
                <button onclick="openFormModal()" class="final-cta-button">Sí, quiero mi cotización inteligente</button>
                <div class="privacy-text">Respetamos tu privacidad. Tus datos están seguros con nosotros.</div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 11: FOOTER -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <p class="footer-copyright">MAPFRE © 2025 Todos los derechos reservados</p>
                    <p>Central Administrativa: 01 213-7373</p>
                    <p>MAPFRE PERU COMPAÑÍA DE SEGUROS Y REASEGUROS</p>
                    <p>RUC 20418896915</p>
                    <p><a href="#" class="terms-link">Aplican términos y condiciones</a></p>
                </div>
                <div class="footer-right">
                    <p class="footer-credit">Hecho por manya.pe</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal del formulario principal -->
    <div id="formModal" class="form-modal">
        <div class="form-modal-content">
            <button class="form-modal-close" onclick="closeFormModal()">&times;</button>
            <h3>Solicita tu cotización de Endoso Inteligente</h3>
            <p>Un asesor especializado te contactará para cotizar tu Endoso Devolución personalizado.</p>
            
            <form id="contact-form" class="contact-form">
                <!-- Campos principales -->
                <div class="form-row">
                    <div class="form-group">
                        <select id="tipo-documento" name="tipo-documento" required>
                            <option value="">Tipo de documento</option>
                            <option value="dni">DNI</option>
                            <option value="ce">Carné de Extranjería</option>
                            <option value="pasaporte">Pasaporte</option>
                        </select>
                    </div>
                    <div class="form-group documento-group">
                        <input type="text" id="numero-documento" name="numero-documento" placeholder="Número de documento" required disabled>
                        <div id="verification-loader" class="verification-loader" style="display: none;">
                            <div class="loader-spinner"></div>
                        </div>
                        <div id="verification-status" class="verification-status" style="display: none;"></div>
                    </div>
                </div>

                <!-- Campos adicionales (inicialmente ocultos) -->
                <div id="campos-adicionales" class="campos-adicionales">
                    <div class="campos-adicionales-mensaje">
                        ℹ️ Necesitamos información adicional para continuar
                    </div>
                    <div class="form-group">
                        <input type="text" id="nombre" name="nombre" placeholder="Nombre">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="apellido-paterno" name="apellido-paterno" placeholder="Apellido paterno">
                        </div>
                        <div class="form-group">
                            <input type="text" id="apellido-materno" name="apellido-materno" placeholder="Apellido materno">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="date" id="fecha-nacimiento" name="fecha-nacimiento" placeholder="Fecha de nacimiento">
                        </div>
                        <div class="form-group">
                            <select id="sexo" name="sexo">
                                <option value="">Sexo</option>
                                <option value="masculino">Masculino</option>
                                <option value="femenino">Femenino</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <input type="email" id="email" name="email" placeholder="Correo electrónico" required>
                </div>
                <div class="form-group">
                    <input type="tel" id="celular" name="celular" placeholder="Número de celular" required>
                </div>
                
                <!-- Checkboxes -->
                <div class="checkbox-group">
                    <label class="checkbox-item">
                        <input type="checkbox" id="acepto-politicas" name="acepto-politicas" required>
                        <span class="checkmark"></span>
                        Acepto las <a href="#" class="checkbox-link">políticas de privacidad</a>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" id="acepto-comunicaciones" name="acepto-comunicaciones" required>
                        <span class="checkmark"></span>
                        Autorizo el uso de mis datos para comunicaciones comerciales
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" id="acepto-terminos" name="acepto-terminos" required>
                        <span class="checkmark"></span>
                        He leído y acepto los <a href="#" class="checkbox-link">términos y condiciones</a>
                    </label>
                </div>

                <button type="submit" class="final-cta-button">Solicitar cotización</button>
            </form>
        </div>
    </div>

    <script>
        // Función para cambiar tabs
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            
            // Ocultar todo el contenido de las tabs
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            
            // Remover la clase active de todos los botones
            tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            
            // Mostrar la tab actual y marcar el botón como activo
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // Función para toggle FAQ
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            const isActive = answer.classList.contains('active');
            
            // Cerrar todas las FAQs
            const allAnswers = document.querySelectorAll('.faq-answer');
            const allQuestions = document.querySelectorAll('.faq-question');
            
            allAnswers.forEach(ans => ans.classList.remove('active'));
            allQuestions.forEach(q => q.classList.remove('active'));
            
            // Si no estaba activa, abrirla
            if (!isActive) {
                answer.classList.add('active');
                element.classList.add('active');
            }
        }

        // Función para scroll suave a secciones específicas
        function scrollToSection(sectionId) {
            const target = document.getElementById(sectionId);
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        // Función para toggle del menú de navegación móvil
        function toggleNav() {
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.toggle('active');
        }

        // Cerrar menú móvil al hacer clic en un enlace
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-menu a');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const navMenu = document.getElementById('navMenu');
                    navMenu.classList.remove('active');
                });
            });
        });

        // Variable global para almacenar el tipo de PDF actual
        let currentPDFType = '';

        // Función para abrir modal de descarga PDF
        function downloadPDF(pdfType) {
            currentPDFType = pdfType;
            
            // Personalizar el título según el tipo de PDF
            let titulo = '';
            switch(pdfType) {
                case 'guia-endoso':
                    titulo = 'Guía Rápida del Endoso';
                    break;
                case 'comparativa':
                    titulo = 'Comparativa Desgravamen vs. Endoso';
                    break;
                case 'proceso-bancos':
                    titulo = 'Proceso con los Bancos';
                    break;
                case 'condiciones-invalidez':
                    titulo = 'Condiciones y Cobertura de Invalidez';
                    break;
                default:
                    titulo = 'Recurso sobre Endoso Devolución';
            }
            
            // Simular descarga
            alert(`¡Descargando: ${titulo}!\n\nEn un caso real, aquí se descargaría el PDF correspondiente.`);
        }

        // Funciones para el modal del formulario principal
        function openFormModal() {
            const modal = document.getElementById('formModal');
            modal.style.display = 'block';
            // Resetear el formulario al abrir
            document.getElementById('contact-form').reset();
            // Resetear estado de verificación
            if (typeof resetearVerificacion === 'function') {
                resetearVerificacion();
            }
            if (typeof toggleNumeroDocumento === 'function') {
                toggleNumeroDocumento();
            }
        }

        function closeFormModal() {
            const modal = document.getElementById('formModal');
            modal.style.display = 'none';
            // Limpiar el formulario
            document.getElementById('contact-form').reset();
            // Resetear estado de verificación
            if (typeof resetearVerificacion === 'function') {
                resetearVerificacion();
            }
        }

        // Cerrar modal al hacer clic fuera de él
        window.onclick = function(event) {
            const formModal = document.getElementById('formModal');
            
            if (event.target === formModal) {
                closeFormModal();
            }
        }

        // Smooth scroll para los enlaces del header
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Manejar formularios cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', function() {
            // Formulario de contacto principal
            const contactForm = document.getElementById('contact-form');
            let equifaxConsultado = false;
            let datosEncontrados = false;

            // Función para simular consulta a Equifax
            function consultarEquifax(tipoDoc, numeroDoc) {
                console.log('🔍 Consultando Equifax para:', tipoDoc, numeroDoc);
                // Simular tiempo de consulta
                return new Promise((resolve) => {
                    setTimeout(() => {
                        // Para pruebas: DNI que empiece con 1 = no encontrado, otros = encontrado
                        const tieneInformacion = !numeroDoc.startsWith('1');
                        console.log('📊 Resultado Equifax:', tieneInformacion ? 'ENCONTRADO' : 'NO ENCONTRADO');
                        resolve(tieneInformacion);
                    }, 1000);
                });
            }

            // Función para mostrar loader de verificación
            function mostrarLoader(mostrar) {
                const loader = document.getElementById('verification-loader');
                const status = document.getElementById('verification-status');
                
                if (mostrar) {
                    loader.style.display = 'block';
                    status.style.display = 'none';
                } else {
                    loader.style.display = 'none';
                }
            }

            // Función para mostrar estado de verificación
            function mostrarEstadoVerificacion(tipo, texto) {
                const status = document.getElementById('verification-status');
                const loader = document.getElementById('verification-loader');
                
                loader.style.display = 'none';
                status.style.display = 'block';
                status.className = `verification-status ${tipo}`;
                status.textContent = texto;
                
                // Ocultar el estado después de 3 segundos si es exitoso
                if (tipo === 'success') {
                    setTimeout(() => {
                        status.style.display = 'none';
                    }, 3000);
                }
            }

            // Función para mostrar/ocultar campos adicionales con animación
            function toggleCamposAdicionales(mostrar) {
                const camposAdicionales = document.getElementById('campos-adicionales');
                console.log('🔄 toggleCamposAdicionales:', mostrar);
                console.log('📍 Elemento encontrado:', camposAdicionales);
                
                if (mostrar) {
                    // Mostrar con animación
                    camposAdicionales.classList.add('show');
                    camposAdicionales.style.display = 'block';
                    console.log('✅ Campos adicionales mostrados');
                    
                    // Hacer los campos adicionales requeridos
                    setTimeout(() => {
                        camposAdicionales.querySelectorAll('input, select').forEach(field => {
                            if (field.id !== 'apellido-materno' && field.id !== 'sexo') {
                                field.required = true;
                            }
                        });
                    }, 200);
                } else {
                    // Ocultar con animación
                    camposAdicionales.classList.remove('show');
                    camposAdicionales.style.display = 'none';
                    console.log('❌ Campos adicionales ocultados');
                    
                    // Quitar requeridos de campos adicionales
                    camposAdicionales.querySelectorAll('input, select').forEach(field => {
                        field.required = false;
                        field.value = ''; // Limpiar valores
                    });
                }
            }

            // Consultar Equifax cuando se completen tipo y número de documento
            if (contactForm) {
                const tipoDocumento = document.getElementById('tipo-documento');
                const numeroDocumento = document.getElementById('numero-documento');
                const submitButton = contactForm.querySelector('.final-cta-button');

                // Habilitar/deshabilitar campo número según tipo seleccionado
                function toggleNumeroDocumento() {
                    const tipo = tipoDocumento.value;
                    if (tipo) {
                        numeroDocumento.disabled = false;
                        numeroDocumento.placeholder = `Número de ${tipo.toUpperCase()}`;
                    } else {
                        numeroDocumento.disabled = true;
                        numeroDocumento.value = '';
                        numeroDocumento.placeholder = 'Número de documento';
                    }
                }

                // Validar solo números en campo documento
                function validarSoloNumeros(event) {
                    const input = event.target;
                    const valor = input.value;
                    const soloNumeros = valor.replace(/[^0-9]/g, '');
                    
                    if (valor !== soloNumeros) {
                        input.value = soloNumeros;
                    }
                }

                function verificarDocumento() {
                    const tipo = tipoDocumento.value;
                    const numero = numeroDocumento.value;

                    // Validar longitud según tipo de documento
                    let longitudMinima = 8;
                    if (tipo === 'dni') longitudMinima = 8;
                    else if (tipo === 'ce') longitudMinima = 9;
                    else if (tipo === 'pasaporte') longitudMinima = 6;

                    if (tipo && numero && numero.length >= longitudMinima && !equifaxConsultado) {
                        equifaxConsultado = true;
                        mostrarLoader(true);

                        consultarEquifax(tipo, numero).then(encontrado => {
                            datosEncontrados = encontrado;
                            mostrarLoader(false);

                            if (encontrado) {
                                mostrarEstadoVerificacion('success', '✓');
                                toggleCamposAdicionales(false);
                            } else {
                                mostrarEstadoVerificacion('info', 'ℹ️');
                                toggleCamposAdicionales(true);
                            }
                        });
                    } else if (tipo && numero && numero.length < longitudMinima) {
                        // Resetear si el número es muy corto
                        equifaxConsultado = false;
                        mostrarLoader(false);
                        document.getElementById('verification-status').style.display = 'none';
                        toggleCamposAdicionales(false);
                    }
                }

                window.resetearVerificacion = function() {
                    equifaxConsultado = false;
                    datosEncontrados = false;
                    mostrarLoader(false);
                    document.getElementById('verification-status').style.display = 'none';
                    toggleCamposAdicionales(false);
                }

                window.toggleNumeroDocumento = toggleNumeroDocumento;

                // Event listeners
                tipoDocumento.addEventListener('change', () => {
                    toggleNumeroDocumento();
                    resetearVerificacion();
                    verificarDocumento();
                });

                numeroDocumento.addEventListener('input', validarSoloNumeros);
                numeroDocumento.addEventListener('input', () => {
                    // Solo resetear si cambia significativamente
                    if (equifaxConsultado) {
                        resetearVerificacion();
                    }
                    
                    // Verificar después de un pequeño delay para evitar múltiples consultas
                    clearTimeout(window.verificacionTimeout);
                    window.verificacionTimeout = setTimeout(() => {
                        verificarDocumento();
                    }, 500);
                });

                // Inicializar estado
                toggleNumeroDocumento();

                // Manejar envío del formulario
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Obtener los datos del formulario
                    const formData = new FormData(this);
                    const tipoDoc = formData.get('tipo-documento');
                    const numeroDoc = formData.get('numero-documento');
                    const email = formData.get('email');
                    const celular = formData.get('celular');
                    const aceptoPoliticas = formData.get('acepto-politicas');
                    const aceptoComunicaciones = formData.get('acepto-comunicaciones');
                    const aceptoTerminos = formData.get('acepto-terminos');

                    // Validar campos principales
                    if (!tipoDoc || !numeroDoc || !email || !celular) {
                        alert('Por favor, completa todos los campos obligatorios.');
                        return;
                    }

                    // Validar checkboxes
                    if (!aceptoPoliticas || !aceptoComunicaciones || !aceptoTerminos) {
                        alert('Por favor, acepta todos los términos requeridos.');
                        return;
                    }

                    // Si se muestran campos adicionales, validarlos
                    if (!datosEncontrados) {
                        const nombre = formData.get('nombre');
                        const apellidoPaterno = formData.get('apellido-paterno');
                        const fechaNacimiento = formData.get('fecha-nacimiento');

                        if (!nombre || !apellidoPaterno || !fechaNacimiento) {
                            alert('Por favor, completa la información adicional requerida.');
                            return;
                        }
                    }

                    // Recopilar todos los datos
                    const datosCompletos = {
                        tipoDocumento: tipoDoc,
                        numeroDocumento: numeroDoc,
                        email: email,
                        celular: celular,
                        datosEnEquifax: datosEncontrados,
                        producto: 'Endoso Devolución'
                    };

                    // Si hay campos adicionales, agregarlos
                    if (!datosEncontrados) {
                        datosCompletos.nombre = formData.get('nombre');
                        datosCompletos.apellidoPaterno = formData.get('apellido-paterno');
                        datosCompletos.apellidoMaterno = formData.get('apellido-materno');
                        datosCompletos.fechaNacimiento = formData.get('fecha-nacimiento');
                        datosCompletos.sexo = formData.get('sexo');
                    }
                    
                    // Aquí normalmente enviarías los datos a un servidor
                    console.log('Datos del formulario completo:', datosCompletos);
                    
                    // Redirigir a la página de gracias específica de Endoso
                    window.location.href = 'gracias-endoso.html';
                });
            }
        });
    </script>
</body>
</html> 